2024-07-12 20:25:10,411 **************** Configuration **************** 
2024-07-12 20:25:10,411 gpu: 0
2024-07-12 20:25:10,411 test_code_flag: False
2024-07-12 20:25:10,411 ID: NQ_0
2024-07-12 20:25:10,411 seed: 42
2024-07-12 20:25:10,411 num_workers: 48
2024-07-12 20:25:10,411 loading_ckpt_path: None
2024-07-12 20:25:10,411 RA_method: No_RA
2024-07-12 20:25:10,411 LLM: meta-llama/Meta-Llama-3-8B-Instruct
2024-07-12 20:25:10,411 dataset: NQ
2024-07-12 20:25:10,411 train_batch_size: 8
2024-07-12 20:25:10,411 test_batch_size: 8
2024-07-12 20:25:10,411 accumulation_steps: 1
2024-07-12 20:25:10,411 demonstration: False
2024-07-12 20:25:10,411 demons_cnt: 1
2024-07-12 20:25:10,411 l2_coef: 0
2024-07-12 20:25:10,411 train_eval: 500
2024-07-12 20:25:10,411 total_step: 25000
2024-07-12 20:25:10,411 gate_weight_0: 1
2024-07-12 20:25:10,411 gate_weight_1: 2
2024-07-12 20:25:10,411 lr: 0.0001
2024-07-12 20:25:10,411 init_lr_num: 500
2024-07-12 20:25:10,411 lr_decay: 0.9
2024-07-12 20:25:10,411 lr_decay_interval: 400
2024-07-12 20:25:10,412 num_layers: 1
2024-07-12 20:25:10,412 d_model: 768
2024-07-12 20:25:10,412 dim_feedforward: 2048
2024-07-12 20:25:10,412 layer_norm_eps: 1e-05
2024-07-12 20:25:10,412 nhead: 8
2024-07-12 20:25:10,412 dropout: 0.1
2024-07-12 20:25:10,412 loss_list: kl_soft+kl_hard
2024-07-12 20:25:10,412 len_penalty_weight: 10
2024-07-12 20:25:10,412 soft_weight: 1
2024-07-12 20:25:10,412 hard_weight: 1
2024-07-12 20:25:10,412 do_sample: True
2024-07-12 20:25:10,412 temperature: 1e-09
2024-07-12 20:25:10,412 top_p: 0
2024-07-12 20:25:10,412 max_new_tokens: 40
2024-07-12 20:25:10,412 infer_add_gold_retrieval: False
2024-07-12 20:25:10,412 multi_query: False
2024-07-12 20:25:10,412 rewrite_num: 1
2024-07-12 20:25:10,412 chunk_size: 512
2024-07-12 20:25:10,412 chunk_overlap: 20
2024-07-12 20:25:10,412 if_hierarchical_retrieval: True
2024-07-12 20:25:10,412 hierarchical_ratio: 1.4
2024-07-12 20:25:10,412 quantile_num: 1
2024-07-12 20:25:10,412 n_docs: 10
2024-07-12 20:25:10,412 model_name_or_path: facebook/contriever-msmarco
2024-07-12 20:25:10,412 question_maxlength: 512
2024-07-12 20:25:10,412 passages: datasets/Retrieval_corpus/enwiki_2020_dec_intro_only.jsonl
2024-07-12 20:25:10,412 passages_embeddings: datasets/Retrieval_corpus/enwiki_dec_2020_contriever_intro/*
2024-07-12 20:25:10,412 lowercase: False
2024-07-12 20:25:10,412 normalize_text: False
2024-07-12 20:25:10,412 save_or_load_index: False
2024-07-12 20:25:10,412 no_fp16: True
2024-07-12 20:25:10,412 projection_size: 768
2024-07-12 20:25:10,412 n_subquantizers: 0
2024-07-12 20:25:10,412 n_bits: 8
2024-07-12 20:25:10,412 indexing_batch_size: 30000000
2024-07-12 20:25:10,412 device: cuda
2024-07-12 20:25:10,412 prompt_file: prompts/NQ.json
2024-07-12 20:25:10,412 dir_path: ./results/output/ID_NQ_0_gpu_0_RA_method_No_RA_dataset_NQ
2024-07-12 20:25:10,412 print_logger: <Logger print (DEBUG)>
2024-07-12 20:25:10,412 **************** Configuration **************** 


2024-07-12 20:25:10,412 Loading meta-llama/Meta-Llama-3-8B-Instruct in torch.bfloat16...
2024-07-12 20:25:14,345 Finish loading in 0.07 mins.
2024-07-12 20:25:14,814 Loading data ...
2024-07-12 20:25:15,127 prompt_format: general-prompt 

2024-07-12 20:25:15,127 
 Start test ...  
2024-07-12 20:25:15,660 testing process num: 0
2024-07-12 20:27:41,175 testing process num: 200
2024-07-12 20:30:04,545 testing process num: 400
2024-07-12 20:30:42,692 test: f1 24.62, EM : 33.24, old_doc_len:0.0, new_doc_len:0.0
2024-07-12 20:30:42,692 cost_time: 5.459411803881327  
 
